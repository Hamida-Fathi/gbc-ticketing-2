@model GBC_TicketingSystem_2.Areas.Admin.Models.Event

@{
    Layout = "~/Views/Shared/_Layout.cshtml";
}

<!-- PAGE TITLE -->
<h2 class="fw-bold text-primary mb-4">🎟 Buy Ticket</h2>

<div class="card shadow-sm border-0">
    <div class="card-body">

        <!-- Event Title -->
        <h3 class="fw-bold">@Model.Title</h3>

        <!-- Meta Info -->
        <p class="text-muted mb-1">@Model.Description</p>

        <p class="mb-1">
            <strong>Date:</strong>
            @Model.EventDate.ToLocalTime().ToString("MMM dd, yyyy")
        </p>

        <p class="mb-1">
            <strong>Category:</strong>
            @Model.Category?.Name
        </p>

        <p class="mb-3">
            <strong>Tickets Left:</strong>
            @Model.TicketsAvailable
        </p>

        <hr />

        <!-- Purchase Form -->
        <form method="post" action="/Guest/Ticket/BuyConfirmed">
            <input type="hidden" name="eventId" value="@Model.EventId" />

            <button type="submit" class="btn btn-success me-2">
                Confirm Purchase
            </button>

            <a asp-area="Guest"
               asp-controller="Event"
               asp-action="Details"
               asp-route-id="@Model.EventId"
               class="btn btn-outline-secondary">
                Back
            </a>
        </form>

    </div>
</div>